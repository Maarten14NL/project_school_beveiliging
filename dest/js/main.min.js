function showFlashMessage(e,s,l=2e3){var o=$(".js-flash");$(o).removeClass("alert-danger").removeClass("alert-success").addClass("flash-message--show").addClass("alert-"+s).html(e),setTimeout(function(){unshowFlashMessage()},l)}function unshowFlashMessage(){var e=$(".js-flash");console.log(e),$(e).removeClass("flash-message--show")}function login(e){switch($(".login-container").addClass("hidden"),$(".login-status").text("Welcom: user"),$(".logout").removeClass("hidden"),$(".settings").removeClass("hidden"),loggedIn=!0,userLevel=e,$(".user-level").addClass("hidden"),$(".view").addClass("hidden"),userLevel){case 1:$(".user-level_1").removeClass("hidden"),$(".view_1-1").removeClass("hidden");break;case 2:$(".user-level_2").removeClass("hidden"),$(".view_2-1").removeClass("hidden");break;case 3:$(".user-level_3").removeClass("hidden")}}function logout(){$(".login-container").removeClass("hidden"),$(".login-status").text("U bent nog niet ingelogd"),$(".logout").addClass("hidden"),$(".user-level").addClass("hidden"),$(".settings").addClass("hidden"),loggedIn=!1,userLevel=0,showFlashMessage("Je bent uitgelogd","success")}$("body").on("click",".level1-btn-delete",function(){var e=$(this).parent().parent().attr("class"),s=$(this).parent().parent().attr("class").split("index")[1];console.log(users);for(var l=0;l<users.length;l++)users[l].index==s&&$.post("include/deleteUser.php",{id:users[l].id},function(s,l){"succes"==s&&(console.log(e),$("."+e).remove())})});var loggedIn=!1,userLevel=0,loggedInUser=[],users=[];$(document).ready(function(){console.log("home.js loaded"),$("body").on("click",".menu-item",function(){var e=$(this).attr("class").split("_")[1];console.log(e),$(".verdieping").addClass("hidden"),$(".verdieping__"+e).removeClass("hidden")}),$("body").on("click",".login",function(){console.log($(".username").val().toLowerCase()),console.log($(".password").val().toLowerCase()),$.post("include/login.php",{loginSub:"",username:$(".username").val().toLowerCase(),password:$(".password").val()},function(e,s){var l=JSON.parse(e);console.log(l),loggedInUser=l,1==l.loggedIn?(login(l.level),showFlashMessage("Ingelogd succesvol","success")):showFlashMessage("Gebruikersnaam of wachtwoord is verkeerd","danger")})}),$("body").on("click",".logout",function(){logout()}),$("body").on("click",".lokaal",function(){console.log(loggedIn),1==loggedIn&&console.log($(this).attr("class").split(" ")[0])}),$(document).keypress(function(e){13==e.which&&(loggedIn||$(".login").trigger("click"))})}),$("body").on("click",".new-user",function(){""==$(".new-user-name").val()||""==$(".new-user-password").val()||null==$(".new-user-level").val()?console.log("geen gebruikersnaam, wachtwoord of level geselecteerd"):(console.log($(".new-user-level").val()),$.post("include/addUser.php",{username:$(".new-user-name").val(),userpassword:$(".new-user-password").val(),userlevel:$(".new-user-level").val()},function(e,s){console.log(e)}))}),$("body").on("click",".options",function(){var e=$(this).attr("class").split(" ")[1].split("_")[1],s=$(this).attr("class").split(" ")[2].split("_")[1];switch($(".view").addClass("hidden"),$(".view_"+e+"-"+s).removeClass("hidden"),e){case"1":$.post("include/getUsers.php",{},function(e,s){users=JSON.parse(e);for(var l=0;l<2;l++){console.log(l),users.map(function(e,s){e.index=s,0==l?(e.class="edit",e.classText="aanpassen"):1==l&&(e.class="delete",e.classText="verwijderen")});for(var o=0;o<users.length;o++)1==users[o].userlevel&&users.splice(o,1);console.log(users);var n=$(".level1-user-template").html(),a=Mustache.render(n,users);0==l?$(".user-level1-edit").html(a):1==l&&$(".user-level1-delete").html(a)}})}}),$("body").on("click",".settings",function(){console.log("settings"),$(".settings-username").val(loggedInUser.username),$(".user-settings").modal("show"),console.log(loggedInUser.username)}),$("body").on("click",".settings-update",function(){console.log("update"),console.log($(".settings-username").val()),console.log($(".settings-password").val()),console.log($(".settings-repeat-password").val()),""==$(".settings-username").val()&&""==$(".settings-password").val()&&""==$(".settings-repeat-password").val()?console.log("gebruikersnaam en wachtwoord mogen niet leeg zijn"):$(".settings-password").val()!=$(".settings-repeat-password").val()?console.log("wachtwoorden zijn niet gelijk aan elkaar"):$.post("include/updateUser.php",{id:loggedInUser.id},function(e,s){})}),$(document).ready(function(){$("#panel-623188").hide(),$("#panel-338653").hide(),$("#panel-445566").hide(),$("#panel-556234").hide()});